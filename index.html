<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç¢ç‰‡ä¸çŸ³å¤´æœ€ä¼˜è´­ä¹°è®¡ç®—å™¨</title>
  <style>
    :root {
      --primary: #4f81bd;
      --bg: #f4f6fb;
      --card: #ffffff;
      --border: #e0e0e0;
      --accent: #2e7d32;
    }

    * { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", sans-serif; }

    body { margin: 0; background: var(--bg); padding: 24px 12px; }

    .container { max-width: 760px; margin: auto; }

    h1 { text-align: center; color: var(--primary); margin-bottom: 20px; }

    .card { background: var(--card); border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.08); padding: 20px; margin-bottom: 20px; }

    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap: 16px; }

    label { font-weight: 600; font-size: 14px; }

    input { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid var(--border); font-size: 15px; }

    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { border-bottom: 1px solid var(--border); padding: 10px; text-align: center; font-size: 14px; }
    th { background: #f0f4fa; }

    .best { background: #e8f5e9; font-weight: bold; color: var(--accent); }

    .result { font-size: 16px; margin-top: 12px; font-weight: bold; }

    footer { text-align: center; color: #888; font-size: 13px; margin-top: 20px; }
  </style>
</head>
<body>
<div class="container">
  <h1>ç¢ç‰‡ vs çŸ³å¤´ Â· æœ€ä¼˜è´­ä¹°è®¡ç®—å™¨</h1>

  <div class="card">
    <div class="grid">
      <div>
        <label>ç›®æ ‡çŸ³å¤´æ•°é‡</label>
        <input type="number" id="target" value="100" />
      </div>
      <div>
        <label>ç›´æ¥ä¹°çŸ³å¤´ä»·æ ¼ï¼ˆ10ä¸ªï¼‰</label>
        <input type="number" id="stonePrice" value="52" />
      </div>
    </div>
  </div>

  <div class="card">
    <h3>ç¢ç‰‡æ–¹æ¡ˆå¯¹æ¯”ï¼ˆå¯ä¿®æ”¹ï¼‰</h3>
    <table>
      <thead>
        <tr>
          <th>æ–¹æ¡ˆ</th>
          <th>ç¢ç‰‡ä»·æ ¼ï¼ˆ10ä¸ªï¼‰</th>
          <th>1ç¢ç‰‡â†’çŸ³å¤´</th>
          <th>çŸ³å¤´å•ä»·</th>
          <th>è·å¾—ç›®æ ‡çŸ³å¤´æˆæœ¬</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
  </div>

  <div class="card">
    <div class="result" id="final"></div>
  </div>

  <footer>
    æœ¬å·¥å…·æ”¯æŒç½‘é¡µ / å¾®ä¿¡å°ç¨‹åºé€»è¾‘å¤ç”¨ Â· å¯æœ¬åœ°ä¿å­˜
  </footer>
</div>

<script>
  const target = document.getElementById('target');
  const stonePrice = document.getElementById('stonePrice');
  const rows = document.getElementById('rows');
  const final = document.getElementById('final');

  const schemes = [
    { name: 'ç¢ç‰‡æ–¹æ¡ˆ A', price: 247, ratio: 2 },
    { name: 'ç¢ç‰‡æ–¹æ¡ˆ B', price: 200, ratio: 2 },
    { name: 'ç¢ç‰‡æ–¹æ¡ˆ C', price: 300, ratio: 3 }
  ];

  function calc() {
    rows.innerHTML = '';
    const t = Number(target.value) || 0;
    const stoneUnit = (Number(stonePrice.value) || 0) / 10;

    let best = { cost: t * stoneUnit, name: 'ç›´æ¥ä¹°çŸ³å¤´' };

    schemes.forEach((s, i) => {
      const unit = (s.price / 10) / s.ratio;
      const cost = unit * t;

      if (cost < best.cost) best = { cost, name: s.name };

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${s.name}</td>
        <td><input value="${s.price}" oninput="schemes[${i}].price=this.value;calc()"></td>
        <td><input value="${s.ratio}" oninput="schemes[${i}].ratio=this.value;calc()"></td>
        <td>${unit.toFixed(2)}</td>
        <td>${cost.toFixed(2)}</td>
      `;
      rows.appendChild(tr);
    });

    const directCost = (t * stoneUnit).toFixed(2);

    final.innerHTML = `ç›®æ ‡ ${t} ä¸ªçŸ³å¤´ï¼š<br>ç›´æ¥ä¹°çŸ³å¤´æˆæœ¬ ${directCost} å…ƒ<br>ğŸ‘‰ <span style="color:#2e7d32">æœ€çœæ–¹æ¡ˆï¼š${best.name}ï¼ˆçº¦ ${best.cost.toFixed(2)} å…ƒï¼‰</span>`;
  }

  target.addEventListener('input', calc);
  stonePrice.addEventListener('input', calc);

  calc();
</script>
</body>
</html>
